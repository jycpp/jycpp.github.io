---
title: 阿里云的网络安全组的网段分析
date: 2025-06-15 14:45:00
comments: true
tags:
- 阿里云
- 网络安全组
- IP地址
- 子网掩码
- 广播地址
- 网段
- CIDR
- 二进制
- 广播地址
- 局域网
- 服务器
- IP地址
categories:
- 软件开发
- 云计算
---


![阿里云的网络安全组](https://s2.loli.net/2025/06/15/nZNxKFoy3rDkT68.png)


我们在阿里云服务器后台查询的IP地址信息如下：
 `inet 172.19.144.227  netmask 255.255.240.0  broadcast 172.19.159.255`，
 
 这个IP地址跟我们平时通过SSH连接的IP地址不同，是一个局域网地址，但是又不同于我们平时的“192.168.xxx.xxx”的IP地址。
 
 如果有多台服务器在阿里云机房并且在同一个区可用区（例如杭州C区），那么这几台服务器就可以组成局域网。
 
 我们可以按以下步骤转换为网段表示：  


### **一、核心信息提取**
- **IP地址**：`172.19.144.227`  
- **子网掩码**：`255.255.240.0`  
- **广播地址**：`172.19.159.255`  


### **二、计算网络地址（网段起始地址）**

1. **IP地址与子网掩码的二进制转换**  

   - IP地址：`172.19.144.227` → 二进制：  
     `10101100.00010011.10010000.11100011`  
   - 子网掩码：`255.255.240.0` → 二进制：  
     `11111111.11111111.11110000.00000000`（前20位为网络位，后12位为主机位）  

2. **按位与计算网络地址**  

我们以 172.19.144.227 这个IP地址为例，计算它的网络地址：

```
   IP:   10101100.00010011.10010000.11100011  
   掩码: 11111111.11111111.11110000.00000000  
   -------------------------------  
   网络: 10101100.00010011.10010000.00000000 （172.19.144.0）
```  

将IP地址跟子网掩码IP做“与运算”，从而得出
   **网络地址**：`172.19.144.0`  
（!!!网段!!!）

需要注意这两个概念，即“网络地址”跟“IP地址”不同，“网络地址”是网段的起始地址。


### **三、网段的标准表示格式**

1. **CIDR表示法**（推荐）：  
   `172.19.144.0/20`  

   - 解释：子网掩码前20位为网络位（`255.255.240.0` 对应 `/20`）。  

2. **IP+子网掩码表示法**：  
   `172.19.144.0/255.255.240.0`  


### **四、验证网段范围**

1. **广播地址计算**：  

   网络地址的主机位全置为1 → `172.19.144.0` 的后12位（第3字节低4位和第4字节）置1，就得到了这个网段的“广播地址”：  

   ```
   网络: 10101100.00010011.10010000.00000000  
   广播: 10101100.00010011.10011111.11111111 （172.19.159.255）
   ```  

经过计算，这个IP地址所属网段的广播地址是 `172.19.159.255` 。  

2. **有效IP地址范围**：  


通过以上分析，我们不难看出，有效IP地址的范围是：
（1）起始IP：网络地址加1；
（2）结束IP：广播地址减1。

以 172.19.144.0/20 为例，

   - 起始IP：`172.19.144.1`  
   - 结束IP：`172.19.159.254`  
   - 总IP数：`2^(32-20) = 4096` 个地址  

所以，有效IP地址范围的最后一个IP地址，不可以理解为子网掩码减去1，还是以 “172.19.144.0/20” 这个为例，子网掩码是“255.255.240.0”。

再补充一个常识性的问题，这个网段的广播地址是“172.19.159.255”，这个IP地址是不可以直接分配给服务器的，因为这个IP地址是这个网段的“保留IP”，它的作用是标识这个网段的所有主机。同理，这个网段的网络地址“172.19.144.0”同样不可以分配给服务器或电脑。

接下来我们再来一个简单的：

某个服务器的IP地址： 192.168.1.12/24

这个IP地址的子网掩码是“255.255.255.0”，即前24位为网络位，后8位为主机位。

使用上文分析的原理，这个IP对应的二进制的表示方法为：

```
IP:   11000000.10101000.00000001.00001100  
掩码: 11111111.11111111.11111111.00000000  
-------------------------------  
网络: 11000000.10101000.00000001.00000000 （192.168.1.0）
广播：11000000.10101000.00000001.11111111 （192.168.1.255，将8位的主机位全部置1）
```



### **五、总结**

你提供的信息对应的网段表示为：  
- **CIDR格式**：`172.19.144.0/20`  
- **IP+子网掩码格式**：`172.19.144.0/255.255.240.0`  

该网段覆盖 `172.19.144.1~172.19.159.254`，共4096个IP地址，广播地址为 `172.19.159.255`，与你的配置完全匹配。



